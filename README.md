# tempo

Consegui melhorar a situação um pouco. Alterei para variável o que precisava (tirando o código em main_widget.dart, já que acho que vou precisar mudar tudo ali para stateful e estou com um pouco de receio de quebrar todo o programa no processo). Criei uma função "pesquisa()" que chama a API dnv, com a diferença que ela usa a var cidadePesquisa, que é = a outra var "cCity" (cCity está sendo controlada pelo textfield, recebendo o input do usuário dela). Adicionei um setState vazio ao "onPress" do botão de pesquisa, assim como a própria função pesquisa(), para que ela possa ser chamada.

O setState vazio é uma tentativa de dar um "refresh" na página e iniciar o build do main.dart novamente, assim alterando o que aparece na UI. Suponho que nada esteja acontencendo por conta do main_widget estar como Stateless? Antes de mexer, porém, quero me certificar que seja isso, para não fazer em vão. Eu suponho que o resto esteja funcionando. Notei que de fato o programa estava chamando o Future<WeatherInfo> ao apertar o botão de pesquisa (estava com a variável mal configurada e isso dava um output de 'null', que levava o código a não conseguir puxar o link da api e dar um Exception error, ou suponho que tenha sido isso... Bem, espero que sim, pois significaria que a função que fiz está fazendo seu trabalho e que são mínimos ajustes que faltam para a pesquisa funcionar).
